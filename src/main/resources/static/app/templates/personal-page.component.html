<div *ngIf="user">
    <header class="w3-container w3-red w3-center w3-padding-128" *ngIf="displayPersonInformation">
        <h1 class="w3-margin w3-jumbo" >{{user.name}} {{user.surname}}</h1>
    </header>
    <header class="w3-container w3-red w3-center w3-padding-128" *ngIf="displayCompanyInformation">
        <h1 class="w3-margin w3-jumbo">{{user.name}}</h1>
        <p class="w3-xlarge">{{user.description}}</p>
    </header>

    <div class="w3-row-padding" style="margin-top: -100px;">
        <div class="w3-third">
        <div class="w3-card-4 w3-margin" style="background-color: white;">   
            <header class="w3-container w3-blue">
                <h1>Phones</h1>
                <a class="w3-text-lightgray" (click)="editPhones = !editPhones" *ngIf="session.isAuthenticated()">Edit</a>
            </header>

            <div class="w3-container">
                <table class="w3-table w3-striped">
                    <tr>
                        <th>Phone</th>
                        <th colspan="2">Description</th>
                    </tr>
                    <tr *ngFor="let phone of phones">
                        <td>
                            <span>{{phone.number}}</span>
                        </td>
                        <td>
                            <span class="w3-text-gray">{{phone.comment}}</span>
                        </td>
                        <td>
                            <i class="material-icons w3-text-red" *ngIf="editPhones" (click)="removePhone(phone)">delete</i>
                        </td>
                    </tr> 
                    
                    <tr *ngFor="let phone of newPhones">
                        <td *ngIf="editPhones">
                            <input class="w3-input w3-border" type="text" placeholder="Number" [(ngModel)]="phone.number">
                        </td>
                        <td *ngIf="editPhones">
                            <input class="w3-input w3-border" type="text" placeholder="Description" [(ngModel)]="phone.comment" (change)="addPhone(phone)">
                        </td> 
                        <td *ngIf="editPhones">
                            <i class="material-icons w3-text-red" (click)="removeNewPhone(phone)">delete</i>
                        </td>
                    </tr>
                </table>
            </div>

            <footer class="w3-display-container w3-margin" style="height: 70px;" *ngIf="editPhones">
                <a class="w3-btn-floating w3-ripple w3-display-middle w3-blue" (click)="addNewPhoneInput()">+</a>
            </footer>
        </div> 
        </div>

        <div class="w3-third">
        <div class="w3-card-4 w3-margin" style="background-color: white;">   
            <header class="w3-container w3-green">
                <h1>Emails</h1>
                <a class="w3-text-lightgray" (click)="editEmails = !editEmails" *ngIf="session.isAuthenticated()">Edit</a>
            </header>

            <div class="w3-container">
                <table class="w3-table w3-striped">
                    <tr>
                        <th>Email</th>
                        <th colspan="2">Description</th>
                    </tr>
                    <tr *ngFor="let email of emails">
                        <td>
                            <span>{{email.email}}</span>
                        </td>
                        <td>
                            <span class="w3-text-gray">{{email.comment}}</span>
                        </td>
                        <td>
                            <i class="material-icons w3-text-red" *ngIf="editEmails" (click)="removeEmail(email)">delete</i>
                        </td>
                    </tr> 
                    
                    <tr *ngFor="let email of newEmails">
                        <td *ngIf="editEmails">
                            <input class="w3-input w3-border" type="text" placeholder="Number" [(ngModel)]="email.number">
                        </td>
                        <td *ngIf="editEmails">
                            <input class="w3-input w3-border" type="text" placeholder="Description" [(ngModel)]="email.comment" (change)="addEmail(email)">
                        </td> 
                        <td *ngIf="editEmails">
                            <i class="material-icons w3-text-red" (click)="removeNewEmail(email)">delete</i>
                        </td>
                    </tr>
                </table>
            </div>

            <footer class="w3-display-container w3-margin" style="height: 70px;" *ngIf="editEmails">
                <a class="w3-btn-floating w3-ripple w3-display-middle w3-green" (click)="addNewEmailInput()">+</a>
            </footer>
        </div>
        </div> 

        <div class="w3-third">
        <div class="w3-card-4 w3-margin" style="background-color: white;">   
            <header class="w3-container w3-yellow">
                <h1>Addresses</h1>
                <a class="w3-text-lightgray" (click)="editAddresses = !editAddresses" *ngIf="session.isAuthenticated()">Edit</a>
            </header>

            <div class="w3-container">
                <table class="w3-table w3-striped">
                    <tr>
                        <th>Address</th>
                        <th colspan="2">Description</th>
                    </tr>
                    <tr *ngFor="let address of addresses">
                        <td>
                            <span>{{address.address}}</span>
                        </td>
                        <td>
                            <span class="w3-text-gray">{{address.comment}}</span>
                        </td>
                        <td>
                            <i class="material-icons w3-text-red" *ngIf="editAddresses" (click)="removeAddress(address)">delete</i>
                        </td>
                    </tr> 
                    
                    <tr *ngFor="let address of newAddresses">
                        <td *ngIf="editAddresses">
                            <input class="w3-input w3-border" type="text" placeholder="Number" [(ngModel)]="address.number">
                        </td>
                        <td *ngIf="editAddresses">
                            <input class="w3-input w3-border" type="text" placeholder="Description" [(ngModel)]="address.comment" (change)="addAddress(address)">
                        </td> 
                        <td *ngIf="editAddresses">
                            <i class="material-icons w3-text-red" (click)="removeNewAddress(address)">delete</i>
                        </td>
                    </tr>
                </table>
            </div>

            <footer class="w3-display-container w3-margin" style="height: 70px;" *ngIf="editAddresses">
                <a class="w3-btn-floating w3-ripple w3-display-middle w3-yellow" (click)="addNewAddressInput()">+</a>
            </footer>
        </div>
        </div> 
    </div>

    <div *ngIf="displayCompanyInformation">
        <label>Reviews: </label>
        <table>
            <tr *ngFor="let review of reviews">
                <td>{{review.author.email}}</td>
                <td>{{review.message}}</td>
            </tr>
        </table>
        <div *ngIf="session.isAuthenticated()">
            <input type="number" [(ngModel)]="newReview.score" placeholder="score" />
            <input type="text" [(ngModel)]="newReview.message" placeholder="review" />
            <input type="button" (click)="addReview()" value="Add review" />
        </div>
    </div>
</div>
